{"version":3,"file":"storage.js","names":["_multer","_interopRequireDefault","require","_path","obj","__esModule","storage","multer","diskStorage","destination","req","file","cb","path","join","__dirname","filename","uniqueSuffix","Date","now","Math","round","random","concat","fieldname","upload","exports"],"sources":["../../src/middlewares/storage.js"],"sourcesContent":["import multer from 'multer'\nimport path from 'path'\n\nconst storage = multer.diskStorage({\n    destination: function (req, file, cb) {\n        cb(null, path.join(__dirname, '../libs/pdf'))\n    },\n    filename: function (req, file, cb) {\n        const uniqueSuffix = Date.now() + '-' + Math.round(Math.random() * 1E9)\n        cb(null, `${file.fieldname}-${uniqueSuffix}.pdf`)\n    }\n})\n\nexport const upload = multer({ storage })\n"],"mappings":";;;;;;AAAA,IAAAA,OAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AAAuB,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,gBAAAA,GAAA;AAEvB,IAAME,OAAO,GAAGC,kBAAM,CAACC,WAAW,CAAC;EAC/BC,WAAW,EAAE,SAAAA,YAAUC,GAAG,EAAEC,IAAI,EAAEC,EAAE,EAAE;IAClCA,EAAE,CAAC,IAAI,EAAEC,gBAAI,CAACC,IAAI,CAACC,SAAS,EAAE,aAAa,CAAC,CAAC;EACjD,CAAC;EACDC,QAAQ,EAAE,SAAAA,SAAUN,GAAG,EAAEC,IAAI,EAAEC,EAAE,EAAE;IAC/B,IAAMK,YAAY,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC,GAAG,GAAG,GAAGC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAG,GAAG,CAAC;IACvEV,EAAE,CAAC,IAAI,KAAAW,MAAA,CAAKZ,IAAI,CAACa,SAAS,OAAAD,MAAA,CAAIN,YAAY,SAAM,CAAC;EACrD;AACJ,CAAC,CAAC;AAEK,IAAMQ,MAAM,GAAAC,OAAA,CAAAD,MAAA,GAAG,IAAAlB,kBAAM,EAAC;EAAED,OAAO,EAAPA;AAAQ,CAAC,CAAC","ignoreList":[]}